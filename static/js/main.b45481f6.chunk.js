(this["webpackJsonpravn-challenge-v2-julio-mixco"]=this["webpackJsonpravn-challenge-v2-julio-mixco"]||[]).push([[0],{65:function(n,e,t){n.exports=t(80)},70:function(n,e,t){},71:function(n,e,t){},80:function(n,e,t){"use strict";t.r(e);var r=t(2),a=t.n(r),o=t(58),l=t.n(o),i=(t(70),t(18)),c=(t(71),{apiUrl:"https://swapi-graphql.netlify.app/.netlify/functions/index",graphql:{pageSize:Number("5"),queryDelay:Number("500")}}),u=new i.HttpLink({uri:c.apiUrl,fetchOptions:{mode:"cors"}}),f=new i.ApolloClient({link:u,cache:new i.InMemoryCache}),s=t(21),d=t(4),p=t(5);function v(){var n=Object(d.a)(["\n  display: flex;\n  height: calc(100% - var(--header-height));\n  width: 100%;\n"]);return v=function(){return n},n}function m(){var n=Object(d.a)(["\n  font-style: normal;\n  font-weight: bold;\n  font-size: 17px;\n  line-height: 20px;\n  display: flex;\n  align-items: center;\n  letter-spacing: 0.0125em;\n  color: var(--color-gray-6);\n"]);return m=function(){return n},n}function g(){var n=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  padding-left: 33px;\n  width: 100%;\n  height: var(--header-height);\n  background: var(--color-ravn-black);\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.25);\n"]);return g=function(){return n},n}var h=p.a.header(g()),b=p.a.div(m()),x=p.a.div(v()),j=function(n){return a.a.createElement(a.a.Fragment,null,a.a.createElement(h,null,a.a.createElement(b,null,"Ravn Star Wars Registry")),a.a.createElement(x,null,n.children))};function E(){var n=Object(d.a)(["\n  color: var(--color-text-light);\n"]);return E=function(){return n},n}function O(){var n=Object(d.a)(["\n  color: var(--color-text-emphasis);\n"]);return O=function(){return n},n}function y(){var n=Object(d.a)(["\n  font-family: 'Source Sans Pro';\n  font-style: normal;\n  font-weight: bold;\n  font-size: 17px;\n  line-height: 20px;\n  display: flex;\n  align-items: center;\n  letter-spacing: 0.0125em;\n  color: var(--color-text-dark);\n  margin: 0;\n"]);return y=function(){return n},n}function w(){var n=Object(d.a)(["\n  color: var(--color-text-light);\n"]);return w=function(){return n},n}var k=p.a.p(w()),C=p.a.h2(y()),S=Object(p.a)(C)(O()),P=Object(p.a)(C)(E());function q(){var n=Object(d.a)(["\n  height: 48px;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n"]);return q=function(){return n},n}var R=p.a.div(q()),z=function(n){var e=n.label,t=n.value;return a.a.createElement(R,null,a.a.createElement(P,null,e),a.a.createElement(C,null,t))};function A(){var n=Object(d.a)(["\n  margin-bottom: 8px;\n  margin-top: 32px;\n"]);return A=function(){return n},n}function I(){var n=Object(d.a)(["\n  width: 100%;\n"]);return I=function(){return n},n}function L(){var n=Object(d.a)(["\n  display: flex;\n  flex-grow: 1;\n  padding: 0px 100px;\n  justify-content: center;\n"]);return L=function(){return n},n}var N=p.a.div(L()),J=p.a.div(I()),M=Object(p.a)(C)(A()),$=function(n){var e=n.person;return a.a.createElement(N,null,a.a.createElement(J,null,a.a.createElement(M,null,"General Information"),a.a.createElement("div",{className:"person-detail__info"},a.a.createElement(z,{label:"Eye Color",value:e.eyeColor}),a.a.createElement(z,{label:"Hair Color",value:e.hairColor}),a.a.createElement(z,{label:"Skin Color",value:e.skinColor}),a.a.createElement(z,{label:"Birth Year",value:e.birthYear})),a.a.createElement(M,null,"Vehicles"),a.a.createElement("div",{className:"person-detail__info"},e.vehicles.map((function(n,e){return a.a.createElement(z,{key:e,label:n.name,value:""})})))))};function T(){var n=Object(d.a)(["\n  width: 350px;\n  height: calc(100vh - 52px);\n  overflow-y: auto;\n  background: #ffffff;\n  box-shadow: 1px 0px 0px rgba(0, 0, 0, 0.15);\n"]);return T=function(){return n},n}var V=p.a.div(T());function W(){var n=Object(d.a)(["\n  display: inline-block;\n  width: 8px;\n  height: 12px;\n  background-image: url(",");\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n"]);return W=function(){return n},n}function _(){var n=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  margin-left: 16px;\n  width: 36px;\n"]);return _=function(){return n},n}function B(){var n=Object(d.a)(["\n  flex-grow: 1;\n"]);return B=function(){return n},n}function D(){var n=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  padding-top: 16px;\n  padding-bottom: 16px;\n"]);return D=function(){return n},n}function F(){var n=Object(d.a)(["\n  width: 100%;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n"]);return F=function(){return n},n}function H(){var n=Object(d.a)(["\n  width: 100%;\n  height: 69px;\n  padding-left: 16px;\n"]);return H=function(){return n},n}var Y=p.a.div(H()),U=p.a.div(F()),G=p.a.div(D()),K=p.a.div(B()),Q=p.a.div(_()),X=p.a.span(W(),"".concat("/Ravn-Challenge-V2-Julio-Mixco","/icons/chevron-right.svg"));var Z=function(n){var e,t,r=n.person,o=n.onClick;return a.a.createElement(Y,{onClick:o},a.a.createElement(G,null,a.a.createElement(K,null,a.a.createElement(C,null,r.name),a.a.createElement(k,null,(null===(e=r.species)||void 0===e?void 0:e.name)||""," from ",null===(t=r.homeworld)||void 0===t?void 0:t.name)),a.a.createElement(Q,null,a.a.createElement(X,null))),a.a.createElement(U,null))};function nn(){var n=Object(d.a)(["\n  width: 97px;\n  height: 24px;\n  background-image: url(",");\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n  animation: "," 2s linear infinite;\n"]);return nn=function(){return n},n}function en(){var n=Object(d.a)(["\n  width: 97px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]);return en=function(){return n},n}function tn(){var n=Object(d.a)(["\n  width: 100%;\n  height: 56px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return tn=function(){return n},n}function rn(){var n=Object(d.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n"]);return rn=function(){return n},n}Z.defaultProps={onClick:function(){}};var an=Object(p.b)(rn()),on=p.a.div(tn()),ln=p.a.div(en()),cn=p.a.div(nn(),"".concat("/Ravn-Challenge-V2-Julio-Mixco","/icons/loading-icon.svg"),an),un=function(){return a.a.createElement(on,null,a.a.createElement(ln,null,a.a.createElement(cn,null)," ",a.a.createElement(P,null,"Loading")))};function fn(){var n=Object(d.a)(["\n  width: 100%;\n  height: 52px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return fn=function(){return n},n}var sn=p.a.div(fn()),dn=function(){return a.a.createElement(sn,null,a.a.createElement(S,null,"Failed to Load Data"))},pn=function(n){var e=n.people,t=n.isLoading,r=n.hasError,o=n.onPersonSelected;return a.a.createElement(V,null,e.map((function(n){return a.a.createElement(Z,{key:n.id,person:n,onClick:function(){return null===o||void 0===o?void 0:o(n)}})})),t&&a.a.createElement(un,null),r&&a.a.createElement(dn,null))};pn.defaultProps={onPersonSelected:function(n){}};var vn=t(40),mn=t.n(vn),gn=t(41),hn=t(42),bn=t(64);function xn(){var n=Object(d.a)(["\n  query FetchPeoplePage($first: Int!, $after: String) {\n    allPeople(first: $first, after: $after) {\n      totalCount\n      pageInfo {\n        endCursor\n        hasNextPage\n      }\n      edges {\n        node {\n          id\n          birthYear\n          name\n          gender\n          height\n          hairColor\n          eyeColor\n          skinColor\n          homeworld {\n            name\n          }\n          species {\n            name\n          }\n          vehicleConnection {\n            vehicles {\n              name\n            }\n          }\n        }\n        cursor\n      }\n    }\n  }\n"]);return xn=function(){return n},n}var jn=Object(i.gql)(xn()),En=c.graphql.pageSize,On=c.graphql.queryDelay,yn=function(){var n=Object(i.useApolloClient)(),e=function(n){var e=Object(r.useState)(n),t=Object(s.a)(e,2),a=t[0],o=t[1],l=Object(r.useRef)(a);return Object(r.useEffect)((function(){l.current=a}),[a]),[a,l,o]}([]),t=Object(s.a)(e,3),a=t[0],o=t[1],l=t[2],c=Object(r.useState)(!1),u=Object(s.a)(c,2),f=u[0],d=u[1],p=Object(r.useState)(!1),v=Object(s.a)(p,2),m=v[0],g=v[1];return Object(r.useEffect)((function(){function e(n,e){return t.apply(this,arguments)}function t(){return(t=Object(bn.a)(mn.a.mark((function t(r,a){var i,c,u,f,s,p,v;return mn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),g(!1),u=null,t.prev=3,t.next=6,n.query({query:jn,variables:{first:En,after:a}});case 6:u=t.sent,t.next=14;break;case 9:t.prev=9,t.t0=t.catch(3),console.error(t.t0),d(!1),g(!0);case 14:if(u){t.next=18;break}return d(!1),g(!0),t.abrupt("return");case 18:if(f=!!u.error,d(!1),g(f),s=(null===(i=u.data)||void 0===i||null===(c=i.allPeople)||void 0===c?void 0:c.edges.length)||0,!(!f&&u&&s>0)){t.next=28;break}if(v=(null===(p=u.data)||void 0===p?void 0:p.allPeople.edges.map((function(n){return Object(hn.a)(Object(hn.a)({},n.node),{},{vehicles:n.node.vehicleConnection.vehicles})})))||[],l([].concat(Object(gn.a)(o.current),Object(gn.a)(v))),u.data.allPeople.pageInfo.hasNextPage){t.next=27;break}return t.abrupt("return");case 27:setTimeout((function(){e(En,u.data.allPeople.pageInfo.endCursor)}),On);case 28:case"end":return t.stop()}}),t,null,[[3,9]])})))).apply(this,arguments)}e(En,"")}),[]),{loading:f,data:a,hasError:m}};function wn(){var n=Object(d.a)(["\n  font-family: 'STARWARS';\n  font-style: normal;\n  font-weight: bold;\n  font-size: 20px;\n  line-height: 24px;\n  display: flex;\n  align-items: center;\n  letter-spacing: 0.0125em;\n  color: var(--color-black);\n"]);return wn=function(){return n},n}function kn(){var n=Object(d.a)(["\n  height: 120px;\n  width: 120px;\n  background-image: url(",");\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n"]);return kn=function(){return n},n}function Cn(){var n=Object(d.a)(["\n  height: 200px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n"]);return Cn=function(){return n},n}function Sn(){var n=Object(d.a)(["\n  padding: 0px 100px;\n  display: flex;\n  flex-grow: 1;\n  align-items: center;\n  justify-content: center;\n"]);return Sn=function(){return n},n}var Pn=p.a.div(Sn()),qn=p.a.div(Cn()),Rn=p.a.div(kn(),"".concat("/Ravn-Challenge-V2-Julio-Mixco","/images/bb8.png")),zn=p.a.div(wn()),An=function(){return a.a.createElement(Pn,null,a.a.createElement(qn,null,a.a.createElement(zn,null,"SELECT A CHARACTER"),a.a.createElement(Rn,null)))},In=function(){var n=Object(r.useState)(null),e=Object(s.a)(n,2),t=e[0],o=e[1],l=yn(),i=l.data,c=l.loading,u=l.hasError;return a.a.createElement(j,null,a.a.createElement(pn,{people:i,isLoading:c,hasError:u,onPersonSelected:o}),t?a.a.createElement($,{person:t}):a.a.createElement(An,null))};var Ln=function(){return a.a.createElement(i.ApolloProvider,{client:f},a.a.createElement(In,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Ln,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[65,1,2]]]);
//# sourceMappingURL=main.b45481f6.chunk.js.map